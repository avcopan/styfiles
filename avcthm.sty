\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{avcthm}
\RequirePackage{amsthm,kvoptions,etoolbox,thmtools,scrextend,embrac}
\RequirePackage{cleveref}
\SetupKeyvalOptions{family=depth,prefix=depth@}
\DeclareStringOption[]{numberby}[]
\ProcessKeyvalOptions*

\patchcmd{\@endtheorem}{\@endpefalse}{}{}{}
\patchcmd{\endproof}{\@endpefalse}{}{}{}
\declaretheoremstyle[spaceabove=5pt,spacebelow=5pt,bodyfont=\small]{avc}
\theoremstyle{avc}
\newtheorem{dfn}{Definition} [\depth@numberby]
\newtheorem{thm}{Theorem}    [\depth@numberby]
\newtheorem{cor}{Corollary}  [\depth@numberby]
\newtheorem{lem}{Lemma}      [\depth@numberby]
\newtheorem{rmk}{Remark}     [\depth@numberby]
\newtheorem{pro}{Proposition}[\depth@numberby]
\newtheorem{ex}{Example}     [\depth@numberby]
\newtheorem{ntt}{Notation}   [\depth@numberby]
% \cref
\crefname{dfn}{definition} {definitions}
\crefname{thm}{theorem}    {theorems}
\crefname{cor}{corollary}  {corollaries}
\crefname{lem}{lemma}      {lemmas}
\crefname{rmk}{remark}     {remarks}
\crefname{pro}{proposition}{propositions}
\crefname{ex} {example}    {examples}
\crefname{ntt}{notation}   {notations}
% \Cref
\Crefname{dfn}{def} {defs}
\Crefname{thm}{thm} {thms}
\Crefname{cor}{cor} {cors}
\Crefname{lem}{lem} {lems}
\Crefname{rmk}{rmk} {rmks}
\Crefname{pro}{prop}{props}
\Crefname{ex} {ex}  {exs}
\Crefname{ntt}{nt}  {nts}
% macros for theorem body
\newcommand{\thmtitle}[1]{\textit{\bfseries\mathversion{bold}#1.}}
\newcommand{\thmstatement}[1]{\textit{#1}}
\newcommand{\thmproof}[1]{
  \begin{addmargin}[1em]{0em}
    Proof: #1
  \end{addmargin}
}
% also set crefname for other things, in order to be consistent
\crefname{equation}{equation}{equations}
\crefname{table}   {table}   {tables}
\Crefname{equation}{eq} {eqs}
\Crefname{table}   {tab}{tabs}

\endinput
