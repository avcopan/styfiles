\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{avcthm}
\RequirePackage{amsthm,kvoptions,etoolbox,thmtools,scrextend,embrac}
\RequirePackage{cleveref}
\SetupKeyvalOptions{family=depth,prefix=depth@}
\DeclareStringOption[]{numberby}[]
\ProcessKeyvalOptions*

\patchcmd{\@endtheorem}{\@endpefalse}{}{}{}
\patchcmd{\endproof}{\@endpefalse}{}{}{}
\declaretheoremstyle[spaceabove=5pt,spacebelow=5pt,bodyfont=\small]{avc}
\theoremstyle{avc}
\newtheorem{dfn} {Definition} [\depth@numberby]
\newtheorem{drv} {Derivation} [\depth@numberby]
\newtheorem{thm} {Theorem}    [\depth@numberby]
\newtheorem{cor} {Corollary}  [\depth@numberby]
\newtheorem{lem} {Lemma}      [\depth@numberby]
\newtheorem{rmk} {Remark}     [\depth@numberby]
\newtheorem{prop}{Proposition}[\depth@numberby]
\newtheorem{prob}{Problem}    [\depth@numberby]
\newtheorem{ex}  {Example}    [\depth@numberby]
\newtheorem{ax}  {Axiom}      [\depth@numberby]
\newtheorem{ntt} {Notation}   [\depth@numberby]
% \cref
\crefname{dfn}     {def}        {defs}
\crefname{drv}     {derivation} {derivations}
\crefname{thm}     {thm}        {theorems}
\crefname{cor}     {corollary}  {corollaries}
\crefname{lem}     {lemma}      {lemmas}
\crefname{rmk}     {rmk}        {remarks}
\crefname{prop}    {prop}       {props}
\crefname{prob}    {problem}    {problems}
\crefname{ex}      {ex}         {exampless}
\crefname{ax}      {axiom}      {axioms}
\crefname{ntt}     {notation}   {notations}
\crefname{equation}{eq}         {eqs}
\crefname{table}   {table}      {tables}
% \Cref
\Crefname{dfn}     {Def}        {Defs}
\Crefname{drv}     {Derivation} {Derivations}
\Crefname{thm}     {Thm}        {Theorems}
\Crefname{cor}     {Corollary}  {Corollaries}
\Crefname{lem}     {Lemma}      {Lemmas}
\Crefname{rmk}     {Rmk}        {Remarks}
\Crefname{prop}    {Prop}       {Props}
\Crefname{prob}    {Problem}    {Problems}
\Crefname{ex}      {Ex}         {Exampless}
\Crefname{ax}      {Axiom}      {Axioms}
\Crefname{ntt}     {Notation}   {Notations}
\Crefname{equation}{Eq}         {Eqs}
\Crefname{table}   {Table}      {Tables}
% macros for theorem body
\newcommand{\thmtitle}[1]{\textit{\bfseries\mathversion{bold}#1.}}
\newcommand{\thmstatement}[1]{{\itshape #1}}
\newcommand{\thmproof}[1]{
  \begin{addmargin}[1em]{0em}
    Proof: #1
  \end{addmargin}
}
% also set crefname for other things, in order to be consistent

\endinput
